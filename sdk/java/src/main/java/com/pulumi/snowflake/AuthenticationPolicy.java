// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.snowflake;

import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import com.pulumi.snowflake.AuthenticationPolicyArgs;
import com.pulumi.snowflake.Utilities;
import com.pulumi.snowflake.inputs.AuthenticationPolicyState;
import com.pulumi.snowflake.outputs.AuthenticationPolicyDescribeOutput;
import com.pulumi.snowflake.outputs.AuthenticationPolicyMfaPolicy;
import com.pulumi.snowflake.outputs.AuthenticationPolicyPatPolicy;
import com.pulumi.snowflake.outputs.AuthenticationPolicyShowOutput;
import com.pulumi.snowflake.outputs.AuthenticationPolicyWorkloadIdentityPolicy;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * !&gt; **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `previewFeaturesEnabled` field in the provider configuration. Please always refer to the Getting Help section in our Github repo to best determine how to get help for your questions.
 * 
 * !&gt; **Note** According to Snowflake [docs](https://docs.snowflake.com/en/sql-reference/sql/drop-authentication-policy#usage-notes), an authentication policy cannot be dropped successfully if it is currently assigned to another object. Currently, the provider does not unassign such objects automatically. Before dropping the resource, first unassign the policy from the relevant objects. See guide for more details.
 * 
 * &gt; **Note** External changes are not detected for the following fields: `mfaPolicy`, `patPolicy`, `workloadIdentityPolicy`. Also, they cannot be imported and should be manually set to the correct values during the import operation.
 * 
 * Resource used to manage authentication policy objects. For more information, check [authentication policy documentation](https://docs.snowflake.com/en/sql-reference/sql/create-authentication-policy).
 * 
 * ## Example Usage
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.snowflake.AuthenticationPolicy;
 * import com.pulumi.snowflake.AuthenticationPolicyArgs;
 * import com.pulumi.snowflake.inputs.AuthenticationPolicyMfaPolicyArgs;
 * import com.pulumi.snowflake.inputs.AuthenticationPolicyPatPolicyArgs;
 * import com.pulumi.snowflake.inputs.AuthenticationPolicyWorkloadIdentityPolicyArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         //# Minimal
 *         var basic = new AuthenticationPolicy("basic", AuthenticationPolicyArgs.builder()
 *             .database("database_name")
 *             .schema("schema_name")
 *             .name("network_policy_name")
 *             .build());
 * 
 *         //# Complete (with every optional set)
 *         var complete = new AuthenticationPolicy("complete", AuthenticationPolicyArgs.builder()
 *             .database("database_name")
 *             .schema("schema_name")
 *             .name("network_policy_name")
 *             .authenticationMethods("ALL")
 *             .mfaEnrollment("OPTIONAL")
 *             .clientTypes("ALL")
 *             .securityIntegrations("ALL")
 *             .mfaPolicy(AuthenticationPolicyMfaPolicyArgs.builder()
 *                 .allowedMethods(                
 *                     "PASSKEY",
 *                     "DUO")
 *                 .enforceMfaOnExternalAuthentication("ALL")
 *                 .build())
 *             .patPolicy(AuthenticationPolicyPatPolicyArgs.builder()
 *                 .defaultExpiryInDays(1)
 *                 .maxExpiryInDays(30)
 *                 .networkPolicyEvaluation("NOT_ENFORCED")
 *                 .build())
 *             .workloadIdentityPolicy(AuthenticationPolicyWorkloadIdentityPolicyArgs.builder()
 *                 .allowedProviders("ALL")
 *                 .allowedAwsAccounts("111122223333")
 *                 .allowedAzureIssuers("https://login.microsoftonline.com/tenantid/v2.0")
 *                 .allowedOidcIssuers("https://example.com")
 *                 .build())
 *             .comment("My authentication policy.")
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * &gt; **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult identifiers guide.
 * &lt;!-- TODO(SNOW-1634854): include an example showing both methods--&gt;
 * 
 * &gt; **Note** If a field has a default value, it is shown next to the type in the schema.
 * 
 * ## Import
 * 
 * The `pulumi import` command can be used, for example:
 * 
 * ```sh
 * $ pulumi import snowflake:index/authenticationPolicy:AuthenticationPolicy example &#39;&#34;&lt;database_name&gt;&#34;.&#34;&lt;schema_name&gt;&#34;.&#34;&lt;authentication_policy_name&gt;&#34;&#39;
 * ```
 * 
 */
@ResourceType(type="snowflake:index/authenticationPolicy:AuthenticationPolicy")
public class AuthenticationPolicy extends com.pulumi.resources.CustomResource {
    /**
     * A list of authentication methods that are allowed during login. Valid values are (case-insensitive): `ALL` | `SAML` | `PASSWORD` | `OAUTH` | `KEYPAIR` | `PROGRAMMATIC_ACCESS_TOKEN` | `WORKLOAD_IDENTITY`.
     * 
     */
    @Export(name="authenticationMethods", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> authenticationMethods;

    /**
     * @return A list of authentication methods that are allowed during login. Valid values are (case-insensitive): `ALL` | `SAML` | `PASSWORD` | `OAUTH` | `KEYPAIR` | `PROGRAMMATIC_ACCESS_TOKEN` | `WORKLOAD_IDENTITY`.
     * 
     */
    public Output<Optional<List<String>>> authenticationMethods() {
        return Codegen.optional(this.authenticationMethods);
    }
    /**
     * A list of clients that can authenticate with Snowflake. If a client tries to connect, and the client is not one of the valid `clientTypes`, then the login attempt fails. Valid values are (case-insensitive): `ALL` | `SNOWFLAKE_UI` | `DRIVERS` | `SNOWSQL` | `SNOWFLAKE_CLI`. The `clientTypes` property of an authentication policy is a best effort method to block user logins based on specific clients. It should not be used as the sole control to establish a security boundary.
     * 
     */
    @Export(name="clientTypes", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> clientTypes;

    /**
     * @return A list of clients that can authenticate with Snowflake. If a client tries to connect, and the client is not one of the valid `clientTypes`, then the login attempt fails. Valid values are (case-insensitive): `ALL` | `SNOWFLAKE_UI` | `DRIVERS` | `SNOWSQL` | `SNOWFLAKE_CLI`. The `clientTypes` property of an authentication policy is a best effort method to block user logins based on specific clients. It should not be used as the sole control to establish a security boundary.
     * 
     */
    public Output<Optional<List<String>>> clientTypes() {
        return Codegen.optional(this.clientTypes);
    }
    /**
     * Specifies a comment for the authentication policy.
     * 
     */
    @Export(name="comment", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> comment;

    /**
     * @return Specifies a comment for the authentication policy.
     * 
     */
    public Output<Optional<String>> comment() {
        return Codegen.optional(this.comment);
    }
    /**
     * The database in which to create the authentication policy. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `&#34;`.
     * 
     */
    @Export(name="database", refs={String.class}, tree="[0]")
    private Output<String> database;

    /**
     * @return The database in which to create the authentication policy. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `&#34;`.
     * 
     */
    public Output<String> database() {
        return this.database;
    }
    /**
     * Outputs the result of `DESCRIBE AUTHENTICATION POLICY` for the given policy.
     * 
     */
    @Export(name="describeOutputs", refs={List.class,AuthenticationPolicyDescribeOutput.class}, tree="[0,1]")
    private Output<List<AuthenticationPolicyDescribeOutput>> describeOutputs;

    /**
     * @return Outputs the result of `DESCRIBE AUTHENTICATION POLICY` for the given policy.
     * 
     */
    public Output<List<AuthenticationPolicyDescribeOutput>> describeOutputs() {
        return this.describeOutputs;
    }
    /**
     * Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
     * 
     */
    @Export(name="fullyQualifiedName", refs={String.class}, tree="[0]")
    private Output<String> fullyQualifiedName;

    /**
     * @return Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
     * 
     */
    public Output<String> fullyQualifiedName() {
        return this.fullyQualifiedName;
    }
    /**
     * A list of authentication methods that enforce multi-factor authentication (MFA) during login. Authentication methods not listed in this parameter do not prompt for multi-factor authentication. Allowed values are `ALL` | `SAML` | `PASSWORD`.
     * 
     * @deprecated
     * This field is deprecated and will be removed in the future. Currently, it has no effect. Use the new `enforceMfaOnExternalAuthentication` field instead. Read our [BCR Migration Guide](https://github.com/snowflakedb/terraform-provider-snowflake/blob/main/SNOWFLAKE_BCR_MIGRATION_GUIDE.md#changes-in-authentication-policies) for more migration steps and more details.
     * 
     */
    @Deprecated /* This field is deprecated and will be removed in the future. Currently, it has no effect. Use the new `enforceMfaOnExternalAuthentication` field instead. Read our [BCR Migration Guide](https://github.com/snowflakedb/terraform-provider-snowflake/blob/main/SNOWFLAKE_BCR_MIGRATION_GUIDE.md#changes-in-authentication-policies) for more migration steps and more details. */
    @Export(name="mfaAuthenticationMethods", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> mfaAuthenticationMethods;

    /**
     * @return A list of authentication methods that enforce multi-factor authentication (MFA) during login. Authentication methods not listed in this parameter do not prompt for multi-factor authentication. Allowed values are `ALL` | `SAML` | `PASSWORD`.
     * 
     */
    public Output<Optional<List<String>>> mfaAuthenticationMethods() {
        return Codegen.optional(this.mfaAuthenticationMethods);
    }
    /**
     * Determines whether a user must enroll in multi-factor authentication. Valid values are (case-insensitive): `REQUIRED` | `REQUIRED_PASSWORD_ONLY` | `OPTIONAL`. When REQUIRED is specified, Enforces users to enroll in MFA. If this value is used, then the `clientTypes` parameter must include `snowflakeUi`, because Snowsight is the only place users can enroll in multi-factor authentication (MFA). Note that when you set this value to OPTIONAL, and your account setup forces users to enroll in MFA, then Snowflake may set quietly this value to `REQUIRED_PASSWORD_ONLY`, which may cause permadiff. In this case, you may want to adjust this field value.
     * 
     */
    @Export(name="mfaEnrollment", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> mfaEnrollment;

    /**
     * @return Determines whether a user must enroll in multi-factor authentication. Valid values are (case-insensitive): `REQUIRED` | `REQUIRED_PASSWORD_ONLY` | `OPTIONAL`. When REQUIRED is specified, Enforces users to enroll in MFA. If this value is used, then the `clientTypes` parameter must include `snowflakeUi`, because Snowsight is the only place users can enroll in multi-factor authentication (MFA). Note that when you set this value to OPTIONAL, and your account setup forces users to enroll in MFA, then Snowflake may set quietly this value to `REQUIRED_PASSWORD_ONLY`, which may cause permadiff. In this case, you may want to adjust this field value.
     * 
     */
    public Output<Optional<String>> mfaEnrollment() {
        return Codegen.optional(this.mfaEnrollment);
    }
    /**
     * Specifies the multi-factor authentication (MFA) methods that users can use as a second factor of authentication.
     * 
     */
    @Export(name="mfaPolicy", refs={AuthenticationPolicyMfaPolicy.class}, tree="[0]")
    private Output</* @Nullable */ AuthenticationPolicyMfaPolicy> mfaPolicy;

    /**
     * @return Specifies the multi-factor authentication (MFA) methods that users can use as a second factor of authentication.
     * 
     */
    public Output<Optional<AuthenticationPolicyMfaPolicy>> mfaPolicy() {
        return Codegen.optional(this.mfaPolicy);
    }
    /**
     * Specifies the identifier for the authentication policy. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `&#34;`.
     * 
     */
    @Export(name="name", refs={String.class}, tree="[0]")
    private Output<String> name;

    /**
     * @return Specifies the identifier for the authentication policy. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `&#34;`.
     * 
     */
    public Output<String> name() {
        return this.name;
    }
    /**
     * Specifies the policy for programmatic access tokens.
     * 
     */
    @Export(name="patPolicy", refs={AuthenticationPolicyPatPolicy.class}, tree="[0]")
    private Output</* @Nullable */ AuthenticationPolicyPatPolicy> patPolicy;

    /**
     * @return Specifies the policy for programmatic access tokens.
     * 
     */
    public Output<Optional<AuthenticationPolicyPatPolicy>> patPolicy() {
        return Codegen.optional(this.patPolicy);
    }
    /**
     * The schema in which to create the authentication policy. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `&#34;`.
     * 
     */
    @Export(name="schema", refs={String.class}, tree="[0]")
    private Output<String> schema;

    /**
     * @return The schema in which to create the authentication policy. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `&#34;`.
     * 
     */
    public Output<String> schema() {
        return this.schema;
    }
    /**
     * A list of security integrations the authentication policy is associated with. This parameter has no effect when `saml` or `oauth` are not in the `authenticationMethods` list. All values in the `securityIntegrations` list must be compatible with the values in the `authenticationMethods` list. For example, if `securityIntegrations` contains a SAML security integration, and `authenticationMethods` contains OAUTH, then you cannot create the authentication policy. To allow all security integrations use `ALL` as parameter.
     * 
     */
    @Export(name="securityIntegrations", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> securityIntegrations;

    /**
     * @return A list of security integrations the authentication policy is associated with. This parameter has no effect when `saml` or `oauth` are not in the `authenticationMethods` list. All values in the `securityIntegrations` list must be compatible with the values in the `authenticationMethods` list. For example, if `securityIntegrations` contains a SAML security integration, and `authenticationMethods` contains OAUTH, then you cannot create the authentication policy. To allow all security integrations use `ALL` as parameter.
     * 
     */
    public Output<Optional<List<String>>> securityIntegrations() {
        return Codegen.optional(this.securityIntegrations);
    }
    /**
     * Outputs the result of `SHOW AUTHENTICATION POLICIES` for the given policy.
     * 
     */
    @Export(name="showOutputs", refs={List.class,AuthenticationPolicyShowOutput.class}, tree="[0,1]")
    private Output<List<AuthenticationPolicyShowOutput>> showOutputs;

    /**
     * @return Outputs the result of `SHOW AUTHENTICATION POLICIES` for the given policy.
     * 
     */
    public Output<List<AuthenticationPolicyShowOutput>> showOutputs() {
        return this.showOutputs;
    }
    /**
     * Specifies the policy for workload identity federation.
     * 
     */
    @Export(name="workloadIdentityPolicy", refs={AuthenticationPolicyWorkloadIdentityPolicy.class}, tree="[0]")
    private Output</* @Nullable */ AuthenticationPolicyWorkloadIdentityPolicy> workloadIdentityPolicy;

    /**
     * @return Specifies the policy for workload identity federation.
     * 
     */
    public Output<Optional<AuthenticationPolicyWorkloadIdentityPolicy>> workloadIdentityPolicy() {
        return Codegen.optional(this.workloadIdentityPolicy);
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public AuthenticationPolicy(java.lang.String name) {
        this(name, AuthenticationPolicyArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public AuthenticationPolicy(java.lang.String name, AuthenticationPolicyArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public AuthenticationPolicy(java.lang.String name, AuthenticationPolicyArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("snowflake:index/authenticationPolicy:AuthenticationPolicy", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private AuthenticationPolicy(java.lang.String name, Output<java.lang.String> id, @Nullable AuthenticationPolicyState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("snowflake:index/authenticationPolicy:AuthenticationPolicy", name, state, makeResourceOptions(options, id), false);
    }

    private static AuthenticationPolicyArgs makeArgs(AuthenticationPolicyArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? AuthenticationPolicyArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static AuthenticationPolicy get(java.lang.String name, Output<java.lang.String> id, @Nullable AuthenticationPolicyState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new AuthenticationPolicy(name, id, state, options);
    }
}
