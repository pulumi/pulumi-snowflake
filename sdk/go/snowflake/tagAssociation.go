// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package snowflake

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-snowflake/sdk/v2/go/snowflake/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// > **Note** For `ACCOUNT` object type, only identifiers with organization name are supported. See [account identifier docs](https://docs.snowflake.com/en/user-guide/admin-account-identifier#format-1-preferred-account-name-in-your-organization) for more details.
//
// > **Note** Tag association resource ID has the following format: `"TAG_DATABASE"."TAG_SCHEMA"."TAG_NAME"|TAG_VALUE|OBJECT_TYPE`. This means that a tuple of tag ID, tag value and object type should be unique across the resources. If you want to specify this combination for more than one object, you should use only one `tagAssociation` resource with specified `objectIdentifiers` set.
//
// > **Note** If you want to change tag value to a value that is already present in another `tagAssociation` resource, first remove the relevant `objectIdentifiers` from the resource with the old value, run `pulumi up`, then add the relevant `objectIdentifiers` in the resource with new value, and run `pulumi up` once again. Removing and adding object identifier from one `TagAssociation` resource to another may not work due to Terraform executing changes for non-dependent resources simultaneously. The same applies to an object being specified in multiple `TagAssociation` resources for the same `tagId`, but different `tagValue`s.
//
// > **Note** Default timeout is set to 70 minutes for Terraform Create operation.
//
// Resource used to manage tag associations. For more information, check [object tagging documentation](https://docs.snowflake.com/en/user-guide/object-tagging).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-snowflake/sdk/v2/go/snowflake"
//	"github.com/pulumi/pulumi-std/sdk/go/std"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			test, err := snowflake.NewDatabase(ctx, "test", &snowflake.DatabaseArgs{
//				Name: pulumi.String("database"),
//			})
//			if err != nil {
//				return err
//			}
//			testSchema, err := snowflake.NewSchema(ctx, "test", &snowflake.SchemaArgs{
//				Name:     pulumi.String("schema"),
//				Database: test.Name,
//			})
//			if err != nil {
//				return err
//			}
//			testTag, err := snowflake.NewTag(ctx, "test", &snowflake.TagArgs{
//				Name:     pulumi.String("cost_center"),
//				Database: test.Name,
//				Schema:   testSchema.Name,
//				AllowedValues: pulumi.StringArray{
//					pulumi.String("finance"),
//					pulumi.String("engineering"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = snowflake.NewTagAssociation(ctx, "db_association", &snowflake.TagAssociationArgs{
//				ObjectIdentifiers: pulumi.StringArray{
//					test.FullyQualifiedName,
//				},
//				ObjectType: pulumi.String("DATABASE"),
//				TagId:      testTag.FullyQualifiedName,
//				TagValue:   pulumi.String("finance"),
//			})
//			if err != nil {
//				return err
//			}
//			testTable, err := snowflake.NewTable(ctx, "test", &snowflake.TableArgs{
//				Database: test.Name,
//				Schema:   testSchema.Name,
//				Name:     pulumi.String("TABLE_NAME"),
//				Comment:  pulumi.String("Terraform example table"),
//				Columns: snowflake.TableColumnArray{
//					&snowflake.TableColumnArgs{
//						Name: pulumi.String("column1"),
//						Type: pulumi.String("VARIANT"),
//					},
//					&snowflake.TableColumnArgs{
//						Name: pulumi.String("column2"),
//						Type: pulumi.String("VARCHAR(16)"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = snowflake.NewTagAssociation(ctx, "table_association", &snowflake.TagAssociationArgs{
//				ObjectIdentifiers: pulumi.StringArray{
//					testTable.FullyQualifiedName,
//				},
//				ObjectType: pulumi.String("TABLE"),
//				TagId:      testTag.FullyQualifiedName,
//				TagValue:   pulumi.String("engineering"),
//			})
//			if err != nil {
//				return err
//			}
//			invokeFormat, err := std.Format(ctx, &std.FormatArgs{
//				Input: "%s.\"column1\"",
//				Args: pulumi.StringArray{
//					testTable.FullyQualifiedName,
//				},
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = snowflake.NewTagAssociation(ctx, "column_association", &snowflake.TagAssociationArgs{
//				ObjectIdentifiers: pulumi.StringArray{
//					pulumi.String(invokeFormat.Result),
//				},
//				ObjectType: pulumi.String("COLUMN"),
//				TagId:      testTag.FullyQualifiedName,
//				TagValue:   pulumi.String("engineering"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = snowflake.NewTagAssociation(ctx, "account_association", &snowflake.TagAssociationArgs{
//				ObjectIdentifiers: pulumi.StringArray{
//					pulumi.String("\"ORGANIZATION_NAME\".\"ACCOUNT_NAME\""),
//				},
//				ObjectType: pulumi.String("ACCOUNT"),
//				TagId:      testTag.FullyQualifiedName,
//				TagValue:   pulumi.String("engineering"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
// > **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult identifiers guide.
// <!-- TODO(SNOW-1634854): include an example showing both methods-->
//
// > **Note** If a field has a default value, it is shown next to the type in the schema.
//
// ## Import
//
// > **Note** Due to technical limitations of Terraform SDK, `objectIdentifiers` are not set during import state. Please run `terraform refresh` after importing to get this field populated.
//
// ```sh
// $ pulumi import snowflake:index/tagAssociation:TagAssociation example '"TAG_DATABASE"."TAG_SCHEMA"."TAG_NAME"|TAG_VALUE|OBJECT_TYPE'
// ```
type TagAssociation struct {
	pulumi.CustomResourceState

	// Specifies the object identifiers for the tag association.
	ObjectIdentifiers pulumi.StringArrayOutput `pulumi:"objectIdentifiers"`
	// Specifies the type of object to add a tag. Allowed object types: `ACCOUNT` | `APPLICATION` | `APPLICATION PACKAGE` | `COMPUTE POOL` | `DATABASE` | `FAILOVER GROUP` | `INTEGRATION` | `NETWORK POLICY` | `REPLICATION GROUP` | `ROLE` | `SHARE` | `USER` | `WAREHOUSE` | `DATABASE ROLE` | `SCHEMA` | `ALERT` | `SNOWFLAKE.CORE.BUDGET` | `SNOWFLAKE.ML.CLASSIFICATION` | `EXTERNAL FUNCTION` | `EXTERNAL TABLE` | `FUNCTION` | `IMAGE REPOSITORY` | `GIT REPOSITORY` | `ICEBERG TABLE` | `MATERIALIZED VIEW` | `PIPE` | `MASKING POLICY` | `PASSWORD POLICY` | `ROW ACCESS POLICY` | `SESSION POLICY` | `PRIVACY POLICY` | `PROCEDURE` | `SERVICE` | `STAGE` | `STREAM` | `TABLE` | `TASK` | `VIEW` | `COLUMN` | `EVENT TABLE`.
	ObjectType pulumi.StringOutput `pulumi:"objectType"`
	// (Default: `true`) If true, skips validation of the tag association.
	SkipValidation pulumi.BoolPtrOutput `pulumi:"skipValidation"`
	// Specifies the identifier for the tag.
	TagId pulumi.StringOutput `pulumi:"tagId"`
	// Specifies the value of the tag, (e.g. 'finance' or 'engineering')
	TagValue pulumi.StringOutput `pulumi:"tagValue"`
}

// NewTagAssociation registers a new resource with the given unique name, arguments, and options.
func NewTagAssociation(ctx *pulumi.Context,
	name string, args *TagAssociationArgs, opts ...pulumi.ResourceOption) (*TagAssociation, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ObjectIdentifiers == nil {
		return nil, errors.New("invalid value for required argument 'ObjectIdentifiers'")
	}
	if args.ObjectType == nil {
		return nil, errors.New("invalid value for required argument 'ObjectType'")
	}
	if args.TagId == nil {
		return nil, errors.New("invalid value for required argument 'TagId'")
	}
	if args.TagValue == nil {
		return nil, errors.New("invalid value for required argument 'TagValue'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource TagAssociation
	err := ctx.RegisterResource("snowflake:index/tagAssociation:TagAssociation", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTagAssociation gets an existing TagAssociation resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTagAssociation(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TagAssociationState, opts ...pulumi.ResourceOption) (*TagAssociation, error) {
	var resource TagAssociation
	err := ctx.ReadResource("snowflake:index/tagAssociation:TagAssociation", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering TagAssociation resources.
type tagAssociationState struct {
	// Specifies the object identifiers for the tag association.
	ObjectIdentifiers []string `pulumi:"objectIdentifiers"`
	// Specifies the type of object to add a tag. Allowed object types: `ACCOUNT` | `APPLICATION` | `APPLICATION PACKAGE` | `COMPUTE POOL` | `DATABASE` | `FAILOVER GROUP` | `INTEGRATION` | `NETWORK POLICY` | `REPLICATION GROUP` | `ROLE` | `SHARE` | `USER` | `WAREHOUSE` | `DATABASE ROLE` | `SCHEMA` | `ALERT` | `SNOWFLAKE.CORE.BUDGET` | `SNOWFLAKE.ML.CLASSIFICATION` | `EXTERNAL FUNCTION` | `EXTERNAL TABLE` | `FUNCTION` | `IMAGE REPOSITORY` | `GIT REPOSITORY` | `ICEBERG TABLE` | `MATERIALIZED VIEW` | `PIPE` | `MASKING POLICY` | `PASSWORD POLICY` | `ROW ACCESS POLICY` | `SESSION POLICY` | `PRIVACY POLICY` | `PROCEDURE` | `SERVICE` | `STAGE` | `STREAM` | `TABLE` | `TASK` | `VIEW` | `COLUMN` | `EVENT TABLE`.
	ObjectType *string `pulumi:"objectType"`
	// (Default: `true`) If true, skips validation of the tag association.
	SkipValidation *bool `pulumi:"skipValidation"`
	// Specifies the identifier for the tag.
	TagId *string `pulumi:"tagId"`
	// Specifies the value of the tag, (e.g. 'finance' or 'engineering')
	TagValue *string `pulumi:"tagValue"`
}

type TagAssociationState struct {
	// Specifies the object identifiers for the tag association.
	ObjectIdentifiers pulumi.StringArrayInput
	// Specifies the type of object to add a tag. Allowed object types: `ACCOUNT` | `APPLICATION` | `APPLICATION PACKAGE` | `COMPUTE POOL` | `DATABASE` | `FAILOVER GROUP` | `INTEGRATION` | `NETWORK POLICY` | `REPLICATION GROUP` | `ROLE` | `SHARE` | `USER` | `WAREHOUSE` | `DATABASE ROLE` | `SCHEMA` | `ALERT` | `SNOWFLAKE.CORE.BUDGET` | `SNOWFLAKE.ML.CLASSIFICATION` | `EXTERNAL FUNCTION` | `EXTERNAL TABLE` | `FUNCTION` | `IMAGE REPOSITORY` | `GIT REPOSITORY` | `ICEBERG TABLE` | `MATERIALIZED VIEW` | `PIPE` | `MASKING POLICY` | `PASSWORD POLICY` | `ROW ACCESS POLICY` | `SESSION POLICY` | `PRIVACY POLICY` | `PROCEDURE` | `SERVICE` | `STAGE` | `STREAM` | `TABLE` | `TASK` | `VIEW` | `COLUMN` | `EVENT TABLE`.
	ObjectType pulumi.StringPtrInput
	// (Default: `true`) If true, skips validation of the tag association.
	SkipValidation pulumi.BoolPtrInput
	// Specifies the identifier for the tag.
	TagId pulumi.StringPtrInput
	// Specifies the value of the tag, (e.g. 'finance' or 'engineering')
	TagValue pulumi.StringPtrInput
}

func (TagAssociationState) ElementType() reflect.Type {
	return reflect.TypeOf((*tagAssociationState)(nil)).Elem()
}

type tagAssociationArgs struct {
	// Specifies the object identifiers for the tag association.
	ObjectIdentifiers []string `pulumi:"objectIdentifiers"`
	// Specifies the type of object to add a tag. Allowed object types: `ACCOUNT` | `APPLICATION` | `APPLICATION PACKAGE` | `COMPUTE POOL` | `DATABASE` | `FAILOVER GROUP` | `INTEGRATION` | `NETWORK POLICY` | `REPLICATION GROUP` | `ROLE` | `SHARE` | `USER` | `WAREHOUSE` | `DATABASE ROLE` | `SCHEMA` | `ALERT` | `SNOWFLAKE.CORE.BUDGET` | `SNOWFLAKE.ML.CLASSIFICATION` | `EXTERNAL FUNCTION` | `EXTERNAL TABLE` | `FUNCTION` | `IMAGE REPOSITORY` | `GIT REPOSITORY` | `ICEBERG TABLE` | `MATERIALIZED VIEW` | `PIPE` | `MASKING POLICY` | `PASSWORD POLICY` | `ROW ACCESS POLICY` | `SESSION POLICY` | `PRIVACY POLICY` | `PROCEDURE` | `SERVICE` | `STAGE` | `STREAM` | `TABLE` | `TASK` | `VIEW` | `COLUMN` | `EVENT TABLE`.
	ObjectType string `pulumi:"objectType"`
	// (Default: `true`) If true, skips validation of the tag association.
	SkipValidation *bool `pulumi:"skipValidation"`
	// Specifies the identifier for the tag.
	TagId string `pulumi:"tagId"`
	// Specifies the value of the tag, (e.g. 'finance' or 'engineering')
	TagValue string `pulumi:"tagValue"`
}

// The set of arguments for constructing a TagAssociation resource.
type TagAssociationArgs struct {
	// Specifies the object identifiers for the tag association.
	ObjectIdentifiers pulumi.StringArrayInput
	// Specifies the type of object to add a tag. Allowed object types: `ACCOUNT` | `APPLICATION` | `APPLICATION PACKAGE` | `COMPUTE POOL` | `DATABASE` | `FAILOVER GROUP` | `INTEGRATION` | `NETWORK POLICY` | `REPLICATION GROUP` | `ROLE` | `SHARE` | `USER` | `WAREHOUSE` | `DATABASE ROLE` | `SCHEMA` | `ALERT` | `SNOWFLAKE.CORE.BUDGET` | `SNOWFLAKE.ML.CLASSIFICATION` | `EXTERNAL FUNCTION` | `EXTERNAL TABLE` | `FUNCTION` | `IMAGE REPOSITORY` | `GIT REPOSITORY` | `ICEBERG TABLE` | `MATERIALIZED VIEW` | `PIPE` | `MASKING POLICY` | `PASSWORD POLICY` | `ROW ACCESS POLICY` | `SESSION POLICY` | `PRIVACY POLICY` | `PROCEDURE` | `SERVICE` | `STAGE` | `STREAM` | `TABLE` | `TASK` | `VIEW` | `COLUMN` | `EVENT TABLE`.
	ObjectType pulumi.StringInput
	// (Default: `true`) If true, skips validation of the tag association.
	SkipValidation pulumi.BoolPtrInput
	// Specifies the identifier for the tag.
	TagId pulumi.StringInput
	// Specifies the value of the tag, (e.g. 'finance' or 'engineering')
	TagValue pulumi.StringInput
}

func (TagAssociationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*tagAssociationArgs)(nil)).Elem()
}

type TagAssociationInput interface {
	pulumi.Input

	ToTagAssociationOutput() TagAssociationOutput
	ToTagAssociationOutputWithContext(ctx context.Context) TagAssociationOutput
}

func (*TagAssociation) ElementType() reflect.Type {
	return reflect.TypeOf((**TagAssociation)(nil)).Elem()
}

func (i *TagAssociation) ToTagAssociationOutput() TagAssociationOutput {
	return i.ToTagAssociationOutputWithContext(context.Background())
}

func (i *TagAssociation) ToTagAssociationOutputWithContext(ctx context.Context) TagAssociationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TagAssociationOutput)
}

// TagAssociationArrayInput is an input type that accepts TagAssociationArray and TagAssociationArrayOutput values.
// You can construct a concrete instance of `TagAssociationArrayInput` via:
//
//	TagAssociationArray{ TagAssociationArgs{...} }
type TagAssociationArrayInput interface {
	pulumi.Input

	ToTagAssociationArrayOutput() TagAssociationArrayOutput
	ToTagAssociationArrayOutputWithContext(context.Context) TagAssociationArrayOutput
}

type TagAssociationArray []TagAssociationInput

func (TagAssociationArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TagAssociation)(nil)).Elem()
}

func (i TagAssociationArray) ToTagAssociationArrayOutput() TagAssociationArrayOutput {
	return i.ToTagAssociationArrayOutputWithContext(context.Background())
}

func (i TagAssociationArray) ToTagAssociationArrayOutputWithContext(ctx context.Context) TagAssociationArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TagAssociationArrayOutput)
}

// TagAssociationMapInput is an input type that accepts TagAssociationMap and TagAssociationMapOutput values.
// You can construct a concrete instance of `TagAssociationMapInput` via:
//
//	TagAssociationMap{ "key": TagAssociationArgs{...} }
type TagAssociationMapInput interface {
	pulumi.Input

	ToTagAssociationMapOutput() TagAssociationMapOutput
	ToTagAssociationMapOutputWithContext(context.Context) TagAssociationMapOutput
}

type TagAssociationMap map[string]TagAssociationInput

func (TagAssociationMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TagAssociation)(nil)).Elem()
}

func (i TagAssociationMap) ToTagAssociationMapOutput() TagAssociationMapOutput {
	return i.ToTagAssociationMapOutputWithContext(context.Background())
}

func (i TagAssociationMap) ToTagAssociationMapOutputWithContext(ctx context.Context) TagAssociationMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TagAssociationMapOutput)
}

type TagAssociationOutput struct{ *pulumi.OutputState }

func (TagAssociationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**TagAssociation)(nil)).Elem()
}

func (o TagAssociationOutput) ToTagAssociationOutput() TagAssociationOutput {
	return o
}

func (o TagAssociationOutput) ToTagAssociationOutputWithContext(ctx context.Context) TagAssociationOutput {
	return o
}

// Specifies the object identifiers for the tag association.
func (o TagAssociationOutput) ObjectIdentifiers() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *TagAssociation) pulumi.StringArrayOutput { return v.ObjectIdentifiers }).(pulumi.StringArrayOutput)
}

// Specifies the type of object to add a tag. Allowed object types: `ACCOUNT` | `APPLICATION` | `APPLICATION PACKAGE` | `COMPUTE POOL` | `DATABASE` | `FAILOVER GROUP` | `INTEGRATION` | `NETWORK POLICY` | `REPLICATION GROUP` | `ROLE` | `SHARE` | `USER` | `WAREHOUSE` | `DATABASE ROLE` | `SCHEMA` | `ALERT` | `SNOWFLAKE.CORE.BUDGET` | `SNOWFLAKE.ML.CLASSIFICATION` | `EXTERNAL FUNCTION` | `EXTERNAL TABLE` | `FUNCTION` | `IMAGE REPOSITORY` | `GIT REPOSITORY` | `ICEBERG TABLE` | `MATERIALIZED VIEW` | `PIPE` | `MASKING POLICY` | `PASSWORD POLICY` | `ROW ACCESS POLICY` | `SESSION POLICY` | `PRIVACY POLICY` | `PROCEDURE` | `SERVICE` | `STAGE` | `STREAM` | `TABLE` | `TASK` | `VIEW` | `COLUMN` | `EVENT TABLE`.
func (o TagAssociationOutput) ObjectType() pulumi.StringOutput {
	return o.ApplyT(func(v *TagAssociation) pulumi.StringOutput { return v.ObjectType }).(pulumi.StringOutput)
}

// (Default: `true`) If true, skips validation of the tag association.
func (o TagAssociationOutput) SkipValidation() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *TagAssociation) pulumi.BoolPtrOutput { return v.SkipValidation }).(pulumi.BoolPtrOutput)
}

// Specifies the identifier for the tag.
func (o TagAssociationOutput) TagId() pulumi.StringOutput {
	return o.ApplyT(func(v *TagAssociation) pulumi.StringOutput { return v.TagId }).(pulumi.StringOutput)
}

// Specifies the value of the tag, (e.g. 'finance' or 'engineering')
func (o TagAssociationOutput) TagValue() pulumi.StringOutput {
	return o.ApplyT(func(v *TagAssociation) pulumi.StringOutput { return v.TagValue }).(pulumi.StringOutput)
}

type TagAssociationArrayOutput struct{ *pulumi.OutputState }

func (TagAssociationArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TagAssociation)(nil)).Elem()
}

func (o TagAssociationArrayOutput) ToTagAssociationArrayOutput() TagAssociationArrayOutput {
	return o
}

func (o TagAssociationArrayOutput) ToTagAssociationArrayOutputWithContext(ctx context.Context) TagAssociationArrayOutput {
	return o
}

func (o TagAssociationArrayOutput) Index(i pulumi.IntInput) TagAssociationOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *TagAssociation {
		return vs[0].([]*TagAssociation)[vs[1].(int)]
	}).(TagAssociationOutput)
}

type TagAssociationMapOutput struct{ *pulumi.OutputState }

func (TagAssociationMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TagAssociation)(nil)).Elem()
}

func (o TagAssociationMapOutput) ToTagAssociationMapOutput() TagAssociationMapOutput {
	return o
}

func (o TagAssociationMapOutput) ToTagAssociationMapOutputWithContext(ctx context.Context) TagAssociationMapOutput {
	return o
}

func (o TagAssociationMapOutput) MapIndex(k pulumi.StringInput) TagAssociationOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *TagAssociation {
		return vs[0].(map[string]*TagAssociation)[vs[1].(string)]
	}).(TagAssociationOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*TagAssociationInput)(nil)).Elem(), &TagAssociation{})
	pulumi.RegisterInputType(reflect.TypeOf((*TagAssociationArrayInput)(nil)).Elem(), TagAssociationArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*TagAssociationMapInput)(nil)).Elem(), TagAssociationMap{})
	pulumi.RegisterOutputType(TagAssociationOutput{})
	pulumi.RegisterOutputType(TagAssociationArrayOutput{})
	pulumi.RegisterOutputType(TagAssociationMapOutput{})
}
