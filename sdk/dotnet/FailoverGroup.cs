// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Snowflake
{
    /// <summary>
    /// !&gt; **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `PreviewFeaturesEnabled` field in the provider configuration. Please always refer to the Getting Help section in our Github repo to best determine how to get help for your questions.
    /// 
    /// !&gt; **Updating `AllowedAccounts`** Currently, updating the `AllowedAccounts` field may fail due to an incorrect query being sent (see #3946). This will be fixed during the resource rework. As a workaround, use the `Execute` resource to update the allowed accounts manually. After that, refresh the state with the updated `AllowedAccounts` field in the resource configuration.
    /// 
    /// ## Example Usage
    /// 
    /// &gt; **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult identifiers guide.
    /// &lt;!-- TODO(SNOW-1634854): include an example showing both methods--&gt;
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Snowflake = Pulumi.Snowflake;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var db = new Snowflake.Database("db", new()
    ///     {
    ///         Name = "db1",
    ///     });
    /// 
    ///     var sourceFailoverGroup = new Snowflake.FailoverGroup("source_failover_group", new()
    ///     {
    ///         Name = "FG1",
    ///         ObjectTypes = new[]
    ///         {
    ///             "WAREHOUSES",
    ///             "DATABASES",
    ///             "INTEGRATIONS",
    ///             "ROLES",
    ///         },
    ///         AllowedAccounts = new[]
    ///         {
    ///             "&lt;org_name&gt;.&lt;target_account_name1&gt;",
    ///             "&lt;org_name&gt;.&lt;target_account_name2&gt;",
    ///         },
    ///         AllowedDatabases = new[]
    ///         {
    ///             db.Name,
    ///         },
    ///         AllowedIntegrationTypes = new[]
    ///         {
    ///             "SECURITY INTEGRATIONS",
    ///         },
    ///         ReplicationSchedule = new Snowflake.Inputs.FailoverGroupReplicationScheduleArgs
    ///         {
    ///             Cron = new Snowflake.Inputs.FailoverGroupReplicationScheduleCronArgs
    ///             {
    ///                 Expression = "0 0 10-20 * TUE,THU",
    ///                 TimeZone = "UTC",
    ///             },
    ///         },
    ///     });
    /// 
    ///     var targetFailoverGroup = new Snowflake.FailoverGroup("target_failover_group", new()
    ///     {
    ///         Name = "FG1",
    ///         FromReplica = new Snowflake.Inputs.FailoverGroupFromReplicaArgs
    ///         {
    ///             OrganizationName = "...",
    ///             SourceAccountName = "...",
    ///             Name = sourceFailoverGroup.Name,
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// &gt; **Note** If a field has a default value, it is shown next to the type in the schema.
    /// 
    /// ## Import
    /// 
    /// ```sh
    /// $ pulumi import snowflake:index/failoverGroup:FailoverGroup example 'fg1'
    /// ```
    /// </summary>
    [SnowflakeResourceType("snowflake:index/failoverGroup:FailoverGroup")]
    public partial class FailoverGroup : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Specifies the target account or list of target accounts to which replication and failover of specified objects from the source account is enabled. Secondary failover groups in the target accounts in this list can be promoted to serve as the primary failover group in case of failover. Expected in the form `&lt;org_name&gt;.&lt;target_account_name&gt;`. This value is case-sensitive.
        /// </summary>
        [Output("allowedAccounts")]
        public Output<ImmutableArray<string>> AllowedAccounts { get; private set; } = null!;

        /// <summary>
        /// Specifies the database or list of databases for which you are enabling replication and failover from the source account to the target account. The OBJECT_TYPES list must include DATABASES to set this parameter.
        /// </summary>
        [Output("allowedDatabases")]
        public Output<ImmutableArray<string>> AllowedDatabases { get; private set; } = null!;

        /// <summary>
        /// Type(s) of integrations for which you are enabling replication and failover from the source account to the target account. This property requires that the OBJECT_TYPES list include INTEGRATIONS to set this parameter. The following integration types are supported: "SECURITY INTEGRATIONS", "API INTEGRATIONS", "STORAGE INTEGRATIONS", "EXTERNAL ACCESS INTEGRATIONS", "NOTIFICATION INTEGRATIONS"
        /// </summary>
        [Output("allowedIntegrationTypes")]
        public Output<ImmutableArray<string>> AllowedIntegrationTypes { get; private set; } = null!;

        /// <summary>
        /// Specifies the share or list of shares for which you are enabling replication and failover from the source account to the target account. The OBJECT_TYPES list must include SHARES to set this parameter.
        /// </summary>
        [Output("allowedShares")]
        public Output<ImmutableArray<string>> AllowedShares { get; private set; } = null!;

        /// <summary>
        /// Specifies the name of the replica to use as the source for the failover group.
        /// </summary>
        [Output("fromReplica")]
        public Output<Outputs.FailoverGroupFromReplica?> FromReplica { get; private set; } = null!;

        /// <summary>
        /// Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
        /// </summary>
        [Output("fullyQualifiedName")]
        public Output<string> FullyQualifiedName { get; private set; } = null!;

        /// <summary>
        /// (Default: `False`) Allows replicating objects to accounts on lower editions.
        /// </summary>
        [Output("ignoreEditionCheck")]
        public Output<bool?> IgnoreEditionCheck { get; private set; } = null!;

        /// <summary>
        /// Specifies the identifier for the failover group. The identifier must start with an alphabetic character and cannot contain spaces or special characters unless the identifier string is enclosed in double quotes (e.g. "My object"). Identifiers enclosed in double quotes are also case-sensitive.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// Type(s) of objects for which you are enabling replication and failover from the source account to the target account. The following object types are supported: "ACCOUNT PARAMETERS", "DATABASES", "INTEGRATIONS", "NETWORK POLICIES", "RESOURCE MONITORS", "ROLES", "SHARES", "USERS", "WAREHOUSES"
        /// </summary>
        [Output("objectTypes")]
        public Output<ImmutableArray<string>> ObjectTypes { get; private set; } = null!;

        /// <summary>
        /// Specifies the schedule for refreshing secondary failover groups.
        /// </summary>
        [Output("replicationSchedule")]
        public Output<Outputs.FailoverGroupReplicationSchedule?> ReplicationSchedule { get; private set; } = null!;


        /// <summary>
        /// Create a FailoverGroup resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public FailoverGroup(string name, FailoverGroupArgs? args = null, CustomResourceOptions? options = null)
            : base("snowflake:index/failoverGroup:FailoverGroup", name, args ?? new FailoverGroupArgs(), MakeResourceOptions(options, ""))
        {
        }

        private FailoverGroup(string name, Input<string> id, FailoverGroupState? state = null, CustomResourceOptions? options = null)
            : base("snowflake:index/failoverGroup:FailoverGroup", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing FailoverGroup resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static FailoverGroup Get(string name, Input<string> id, FailoverGroupState? state = null, CustomResourceOptions? options = null)
        {
            return new FailoverGroup(name, id, state, options);
        }
    }

    public sealed class FailoverGroupArgs : global::Pulumi.ResourceArgs
    {
        [Input("allowedAccounts")]
        private InputList<string>? _allowedAccounts;

        /// <summary>
        /// Specifies the target account or list of target accounts to which replication and failover of specified objects from the source account is enabled. Secondary failover groups in the target accounts in this list can be promoted to serve as the primary failover group in case of failover. Expected in the form `&lt;org_name&gt;.&lt;target_account_name&gt;`. This value is case-sensitive.
        /// </summary>
        public InputList<string> AllowedAccounts
        {
            get => _allowedAccounts ?? (_allowedAccounts = new InputList<string>());
            set => _allowedAccounts = value;
        }

        [Input("allowedDatabases")]
        private InputList<string>? _allowedDatabases;

        /// <summary>
        /// Specifies the database or list of databases for which you are enabling replication and failover from the source account to the target account. The OBJECT_TYPES list must include DATABASES to set this parameter.
        /// </summary>
        public InputList<string> AllowedDatabases
        {
            get => _allowedDatabases ?? (_allowedDatabases = new InputList<string>());
            set => _allowedDatabases = value;
        }

        [Input("allowedIntegrationTypes")]
        private InputList<string>? _allowedIntegrationTypes;

        /// <summary>
        /// Type(s) of integrations for which you are enabling replication and failover from the source account to the target account. This property requires that the OBJECT_TYPES list include INTEGRATIONS to set this parameter. The following integration types are supported: "SECURITY INTEGRATIONS", "API INTEGRATIONS", "STORAGE INTEGRATIONS", "EXTERNAL ACCESS INTEGRATIONS", "NOTIFICATION INTEGRATIONS"
        /// </summary>
        public InputList<string> AllowedIntegrationTypes
        {
            get => _allowedIntegrationTypes ?? (_allowedIntegrationTypes = new InputList<string>());
            set => _allowedIntegrationTypes = value;
        }

        [Input("allowedShares")]
        private InputList<string>? _allowedShares;

        /// <summary>
        /// Specifies the share or list of shares for which you are enabling replication and failover from the source account to the target account. The OBJECT_TYPES list must include SHARES to set this parameter.
        /// </summary>
        public InputList<string> AllowedShares
        {
            get => _allowedShares ?? (_allowedShares = new InputList<string>());
            set => _allowedShares = value;
        }

        /// <summary>
        /// Specifies the name of the replica to use as the source for the failover group.
        /// </summary>
        [Input("fromReplica")]
        public Input<Inputs.FailoverGroupFromReplicaArgs>? FromReplica { get; set; }

        /// <summary>
        /// (Default: `False`) Allows replicating objects to accounts on lower editions.
        /// </summary>
        [Input("ignoreEditionCheck")]
        public Input<bool>? IgnoreEditionCheck { get; set; }

        /// <summary>
        /// Specifies the identifier for the failover group. The identifier must start with an alphabetic character and cannot contain spaces or special characters unless the identifier string is enclosed in double quotes (e.g. "My object"). Identifiers enclosed in double quotes are also case-sensitive.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        [Input("objectTypes")]
        private InputList<string>? _objectTypes;

        /// <summary>
        /// Type(s) of objects for which you are enabling replication and failover from the source account to the target account. The following object types are supported: "ACCOUNT PARAMETERS", "DATABASES", "INTEGRATIONS", "NETWORK POLICIES", "RESOURCE MONITORS", "ROLES", "SHARES", "USERS", "WAREHOUSES"
        /// </summary>
        public InputList<string> ObjectTypes
        {
            get => _objectTypes ?? (_objectTypes = new InputList<string>());
            set => _objectTypes = value;
        }

        /// <summary>
        /// Specifies the schedule for refreshing secondary failover groups.
        /// </summary>
        [Input("replicationSchedule")]
        public Input<Inputs.FailoverGroupReplicationScheduleArgs>? ReplicationSchedule { get; set; }

        public FailoverGroupArgs()
        {
        }
        public static new FailoverGroupArgs Empty => new FailoverGroupArgs();
    }

    public sealed class FailoverGroupState : global::Pulumi.ResourceArgs
    {
        [Input("allowedAccounts")]
        private InputList<string>? _allowedAccounts;

        /// <summary>
        /// Specifies the target account or list of target accounts to which replication and failover of specified objects from the source account is enabled. Secondary failover groups in the target accounts in this list can be promoted to serve as the primary failover group in case of failover. Expected in the form `&lt;org_name&gt;.&lt;target_account_name&gt;`. This value is case-sensitive.
        /// </summary>
        public InputList<string> AllowedAccounts
        {
            get => _allowedAccounts ?? (_allowedAccounts = new InputList<string>());
            set => _allowedAccounts = value;
        }

        [Input("allowedDatabases")]
        private InputList<string>? _allowedDatabases;

        /// <summary>
        /// Specifies the database or list of databases for which you are enabling replication and failover from the source account to the target account. The OBJECT_TYPES list must include DATABASES to set this parameter.
        /// </summary>
        public InputList<string> AllowedDatabases
        {
            get => _allowedDatabases ?? (_allowedDatabases = new InputList<string>());
            set => _allowedDatabases = value;
        }

        [Input("allowedIntegrationTypes")]
        private InputList<string>? _allowedIntegrationTypes;

        /// <summary>
        /// Type(s) of integrations for which you are enabling replication and failover from the source account to the target account. This property requires that the OBJECT_TYPES list include INTEGRATIONS to set this parameter. The following integration types are supported: "SECURITY INTEGRATIONS", "API INTEGRATIONS", "STORAGE INTEGRATIONS", "EXTERNAL ACCESS INTEGRATIONS", "NOTIFICATION INTEGRATIONS"
        /// </summary>
        public InputList<string> AllowedIntegrationTypes
        {
            get => _allowedIntegrationTypes ?? (_allowedIntegrationTypes = new InputList<string>());
            set => _allowedIntegrationTypes = value;
        }

        [Input("allowedShares")]
        private InputList<string>? _allowedShares;

        /// <summary>
        /// Specifies the share or list of shares for which you are enabling replication and failover from the source account to the target account. The OBJECT_TYPES list must include SHARES to set this parameter.
        /// </summary>
        public InputList<string> AllowedShares
        {
            get => _allowedShares ?? (_allowedShares = new InputList<string>());
            set => _allowedShares = value;
        }

        /// <summary>
        /// Specifies the name of the replica to use as the source for the failover group.
        /// </summary>
        [Input("fromReplica")]
        public Input<Inputs.FailoverGroupFromReplicaGetArgs>? FromReplica { get; set; }

        /// <summary>
        /// Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
        /// </summary>
        [Input("fullyQualifiedName")]
        public Input<string>? FullyQualifiedName { get; set; }

        /// <summary>
        /// (Default: `False`) Allows replicating objects to accounts on lower editions.
        /// </summary>
        [Input("ignoreEditionCheck")]
        public Input<bool>? IgnoreEditionCheck { get; set; }

        /// <summary>
        /// Specifies the identifier for the failover group. The identifier must start with an alphabetic character and cannot contain spaces or special characters unless the identifier string is enclosed in double quotes (e.g. "My object"). Identifiers enclosed in double quotes are also case-sensitive.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        [Input("objectTypes")]
        private InputList<string>? _objectTypes;

        /// <summary>
        /// Type(s) of objects for which you are enabling replication and failover from the source account to the target account. The following object types are supported: "ACCOUNT PARAMETERS", "DATABASES", "INTEGRATIONS", "NETWORK POLICIES", "RESOURCE MONITORS", "ROLES", "SHARES", "USERS", "WAREHOUSES"
        /// </summary>
        public InputList<string> ObjectTypes
        {
            get => _objectTypes ?? (_objectTypes = new InputList<string>());
            set => _objectTypes = value;
        }

        /// <summary>
        /// Specifies the schedule for refreshing secondary failover groups.
        /// </summary>
        [Input("replicationSchedule")]
        public Input<Inputs.FailoverGroupReplicationScheduleGetArgs>? ReplicationSchedule { get; set; }

        public FailoverGroupState()
        {
        }
        public static new FailoverGroupState Empty => new FailoverGroupState();
    }
}
