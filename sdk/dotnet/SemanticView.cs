// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Snowflake
{
    /// <summary>
    /// !&gt; **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `PreviewFeaturesEnabled` field in the provider configuration. Please always refer to the Getting Help section in our Github repo to best determine how to get help for your questions.
    /// 
    /// !&gt; **Case-sensitive names** Object names, column names, and aliases are case-sensitive. The provider would wrap them in double quotes when running SQL on Snowflake. Keep it in mind when defining the semantic view (check the example usage).
    /// 
    /// &gt; **Note** The [`ALTER SEMANTIC VIEW`](https://docs.snowflake.com/en/sql-reference/sql/alter-semantic-view) does not currently handle changes to `Dimensions`, `Facts`, `Metrics`, `Relationships`, and `Tables`. It means that all changes to these attributes will be handled as destroy and recreate.
    /// 
    /// &gt; **Note** External changes for `Dimensions`, `Facts`, `Metrics`, `Relationships`, and `Tables` are not currently handled. Support for this functionality will be added in the next versions of the provider before moving this resource out of preview.
    /// 
    /// &gt; **Note** `PRIVATE`/`PUBLIC` qualifiers for semantic expressions are not currently supported. They are treated as `PUBLIC` by default. Support for this functionality will be added in the next versions of the provider before moving this resource out of preview.
    /// 
    /// &gt; **Note** Excluding dimensions in `window_function:over_clause:partition_by` clause is not currently supported. Support for this functionality will be added in the next versions of the provider before moving this resource out of preview.
    /// 
    /// &gt; **Note** The `window_function:over_clause:order_by` clause must be a complete SQL expression, including any `[ ASC | DESC ] [ NULLS { FIRST | LAST } ]` modifiers. It will be broken down in the next versions of the provider before moving this resource out of preview.
    /// 
    /// &gt; **Note** `COPY GRANTS` and `OR REPLACE` are not currently supported.
    /// 
    /// &gt; **Note** Output from the [`DESCRIBE SEMANTIC VIEW`](https://docs.snowflake.com/en/sql-reference/sql/desc-semantic-view) is not currently available.
    /// 
    /// Resource used to manage semantic views. For more information, check [semantic views documentation](https://docs.snowflake.com/en/sql-reference/sql/create-semantic-view).
    /// 
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Snowflake = Pulumi.Snowflake;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     // basic resource
    ///     var basic = new Snowflake.SemanticView("basic", new()
    ///     {
    ///         Database = "DATABASE",
    ///         Schema = "SCHEMA",
    ///         Name = "SEMANTIC_VIEW",
    ///         Metrics = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewMetricArgs
    ///             {
    ///                 SemanticExpression = new Snowflake.Inputs.SemanticViewMetricSemanticExpressionArgs
    ///                 {
    ///                     QualifiedExpressionName = "\"lt1\".\"m1\"",
    ///                     SqlExpression = "SUM(\"lt1\".\"a1\")",
    ///                 },
    ///             },
    ///         },
    ///         Tables = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewTableArgs
    ///             {
    ///                 TableAlias = "lt1",
    ///                 TableName = test.FullyQualifiedName,
    ///             },
    ///         },
    ///     });
    /// 
    ///     // complete resource
    ///     var complete = new Snowflake.SemanticView("complete", new()
    ///     {
    ///         Database = "DATABASE",
    ///         Schema = "SCHEMA",
    ///         Name = "SEMANTIC_VIEW",
    ///         Comment = "comment",
    ///         Dimensions = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewDimensionArgs
    ///             {
    ///                 Comment = "dimension comment",
    ///                 QualifiedExpressionName = "\"lt1\".\"d2\"",
    ///                 SqlExpression = "\"lt1\".\"a2\"",
    ///                 Synonyms = new[]
    ///                 {
    ///                     "dim2",
    ///                 },
    ///             },
    ///         },
    ///         Facts = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewFactArgs
    ///             {
    ///                 Comment = "fact comment",
    ///                 QualifiedExpressionName = "\"lt1\".\"f2\"",
    ///                 SqlExpression = "\"lt1\".\"a1\"",
    ///                 Synonyms = new[]
    ///                 {
    ///                     "fact2",
    ///                 },
    ///             },
    ///         },
    ///         Metrics = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewMetricArgs
    ///             {
    ///                 SemanticExpression = new Snowflake.Inputs.SemanticViewMetricSemanticExpressionArgs
    ///                 {
    ///                     Comment = "semantic expression comment",
    ///                     QualifiedExpressionName = "\"lt1\".\"m1\"",
    ///                     SqlExpression = "SUM(\"lt1\".\"a1\")",
    ///                     Synonyms = new[]
    ///                     {
    ///                         "sem1",
    ///                         "baseSem",
    ///                     },
    ///                 },
    ///             },
    ///             new Snowflake.Inputs.SemanticViewMetricArgs
    ///             {
    ///                 WindowFunction = new Snowflake.Inputs.SemanticViewMetricWindowFunctionArgs
    ///                 {
    ///                     OverClause = new Snowflake.Inputs.SemanticViewMetricWindowFunctionOverClauseArgs
    ///                     {
    ///                         PartitionBy = "\"lt1\".\"d2\"",
    ///                     },
    ///                     QualifiedExpressionName = "\"lt1\".\"wf1\"",
    ///                     SqlExpression = "SUM(\"lt1\".\"m1\")",
    ///                 },
    ///             },
    ///         },
    ///         Relationships = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewRelationshipArgs
    ///             {
    ///                 ReferencedRelationshipColumns = new[]
    ///                 {
    ///                     "a1",
    ///                     "a2",
    ///                 },
    ///                 ReferencedTableNameOrAlias = new Snowflake.Inputs.SemanticViewRelationshipReferencedTableNameOrAliasArgs
    ///                 {
    ///                     TableAlias = "lt1",
    ///                 },
    ///                 RelationshipColumns = new[]
    ///                 {
    ///                     "a1",
    ///                     "a2",
    ///                 },
    ///                 RelationshipIdentifier = "r2",
    ///                 TableNameOrAlias = new Snowflake.Inputs.SemanticViewRelationshipTableNameOrAliasArgs
    ///                 {
    ///                     TableAlias = "lt2",
    ///                 },
    ///             },
    ///         },
    ///         Tables = new[]
    ///         {
    ///             new Snowflake.Inputs.SemanticViewTableArgs
    ///             {
    ///                 Comment = "logical table 1 comment",
    ///                 PrimaryKeys = new[]
    ///                 {
    ///                     "a1",
    ///                 },
    ///                 Synonyms = new[]
    ///                 {
    ///                     "orders",
    ///                     "sales",
    ///                 },
    ///                 TableAlias = "lt1",
    ///                 TableName = test.FullyQualifiedName,
    ///                 Uniques = new[]
    ///                 {
    ///                     new Snowflake.Inputs.SemanticViewTableUniqueArgs
    ///                     {
    ///                         Values = new[]
    ///                         {
    ///                             "a2",
    ///                         },
    ///                     },
    ///                     new Snowflake.Inputs.SemanticViewTableUniqueArgs
    ///                     {
    ///                         Values = new[]
    ///                         {
    ///                             "a3",
    ///                             "a4",
    ///                         },
    ///                     },
    ///                 },
    ///             },
    ///             new Snowflake.Inputs.SemanticViewTableArgs
    ///             {
    ///                 Comment = "logical table 2 comment",
    ///                 PrimaryKeys = new[]
    ///                 {
    ///                     "a1",
    ///                 },
    ///                 TableAlias = "lt2",
    ///                 TableName = test2.FullyQualifiedName,
    ///             },
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// &gt; **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult identifiers guide.
    /// &lt;!-- TODO(SNOW-1634854): include an example showing both methods--&gt;
    /// 
    /// &gt; **Note** If a field has a default value, it is shown next to the type in the schema.
    /// 
    /// ## Import
    /// 
    /// ```sh
    /// $ pulumi import snowflake:index/semanticView:SemanticView example '"&lt;db_name&gt;"."&lt;schema_name&gt;"."&lt;semantic_view_name&gt;"'
    /// ```
    /// 
    /// Note: Because the external changes for `Dimensions`, `Facts`, `Metrics`, `Relationships`, and `Tables` are not currently handled, then import won't populate these fields too.
    /// </summary>
    [SnowflakeResourceType("snowflake:index/semanticView:SemanticView")]
    public partial class SemanticView : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Specifies a comment for the semantic view.
        /// </summary>
        [Output("comment")]
        public Output<string?> Comment { get; private set; } = null!;

        /// <summary>
        /// The database in which to create the semantic view. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Output("database")]
        public Output<string> Database { get; private set; } = null!;

        /// <summary>
        /// The list of dimensions in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        [Output("dimensions")]
        public Output<ImmutableArray<Outputs.SemanticViewDimension>> Dimensions { get; private set; } = null!;

        /// <summary>
        /// The list of facts in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        [Output("facts")]
        public Output<ImmutableArray<Outputs.SemanticViewFact>> Facts { get; private set; } = null!;

        /// <summary>
        /// Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
        /// </summary>
        [Output("fullyQualifiedName")]
        public Output<string> FullyQualifiedName { get; private set; } = null!;

        /// <summary>
        /// Specify a list of metrics for the semantic view. Each metric can have either a semantic expression or a window function in its definition. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        [Output("metrics")]
        public Output<ImmutableArray<Outputs.SemanticViewMetric>> Metrics { get; private set; } = null!;

        /// <summary>
        /// Specifies the identifier for the semantic view; must be unique within the schema. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The list of relationships between the logical tables in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        [Output("relationships")]
        public Output<ImmutableArray<Outputs.SemanticViewRelationship>> Relationships { get; private set; } = null!;

        /// <summary>
        /// The schema in which to create the semantic view. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Output("schema")]
        public Output<string> Schema { get; private set; } = null!;

        /// <summary>
        /// Outputs the result of `SHOW SEMANTIC VIEWS` for the given semantic view.
        /// </summary>
        [Output("showOutputs")]
        public Output<ImmutableArray<Outputs.SemanticViewShowOutput>> ShowOutputs { get; private set; } = null!;

        /// <summary>
        /// The list of logical tables in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        [Output("tables")]
        public Output<ImmutableArray<Outputs.SemanticViewTable>> Tables { get; private set; } = null!;


        /// <summary>
        /// Create a SemanticView resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public SemanticView(string name, SemanticViewArgs args, CustomResourceOptions? options = null)
            : base("snowflake:index/semanticView:SemanticView", name, args ?? new SemanticViewArgs(), MakeResourceOptions(options, ""))
        {
        }

        private SemanticView(string name, Input<string> id, SemanticViewState? state = null, CustomResourceOptions? options = null)
            : base("snowflake:index/semanticView:SemanticView", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing SemanticView resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static SemanticView Get(string name, Input<string> id, SemanticViewState? state = null, CustomResourceOptions? options = null)
        {
            return new SemanticView(name, id, state, options);
        }
    }

    public sealed class SemanticViewArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Specifies a comment for the semantic view.
        /// </summary>
        [Input("comment")]
        public Input<string>? Comment { get; set; }

        /// <summary>
        /// The database in which to create the semantic view. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Input("database", required: true)]
        public Input<string> Database { get; set; } = null!;

        [Input("dimensions")]
        private InputList<Inputs.SemanticViewDimensionArgs>? _dimensions;

        /// <summary>
        /// The list of dimensions in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewDimensionArgs> Dimensions
        {
            get => _dimensions ?? (_dimensions = new InputList<Inputs.SemanticViewDimensionArgs>());
            set => _dimensions = value;
        }

        [Input("facts")]
        private InputList<Inputs.SemanticViewFactArgs>? _facts;

        /// <summary>
        /// The list of facts in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewFactArgs> Facts
        {
            get => _facts ?? (_facts = new InputList<Inputs.SemanticViewFactArgs>());
            set => _facts = value;
        }

        [Input("metrics")]
        private InputList<Inputs.SemanticViewMetricArgs>? _metrics;

        /// <summary>
        /// Specify a list of metrics for the semantic view. Each metric can have either a semantic expression or a window function in its definition. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewMetricArgs> Metrics
        {
            get => _metrics ?? (_metrics = new InputList<Inputs.SemanticViewMetricArgs>());
            set => _metrics = value;
        }

        /// <summary>
        /// Specifies the identifier for the semantic view; must be unique within the schema. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        [Input("relationships")]
        private InputList<Inputs.SemanticViewRelationshipArgs>? _relationships;

        /// <summary>
        /// The list of relationships between the logical tables in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewRelationshipArgs> Relationships
        {
            get => _relationships ?? (_relationships = new InputList<Inputs.SemanticViewRelationshipArgs>());
            set => _relationships = value;
        }

        /// <summary>
        /// The schema in which to create the semantic view. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Input("schema", required: true)]
        public Input<string> Schema { get; set; } = null!;

        [Input("tables", required: true)]
        private InputList<Inputs.SemanticViewTableArgs>? _tables;

        /// <summary>
        /// The list of logical tables in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewTableArgs> Tables
        {
            get => _tables ?? (_tables = new InputList<Inputs.SemanticViewTableArgs>());
            set => _tables = value;
        }

        public SemanticViewArgs()
        {
        }
        public static new SemanticViewArgs Empty => new SemanticViewArgs();
    }

    public sealed class SemanticViewState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Specifies a comment for the semantic view.
        /// </summary>
        [Input("comment")]
        public Input<string>? Comment { get; set; }

        /// <summary>
        /// The database in which to create the semantic view. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Input("database")]
        public Input<string>? Database { get; set; }

        [Input("dimensions")]
        private InputList<Inputs.SemanticViewDimensionGetArgs>? _dimensions;

        /// <summary>
        /// The list of dimensions in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewDimensionGetArgs> Dimensions
        {
            get => _dimensions ?? (_dimensions = new InputList<Inputs.SemanticViewDimensionGetArgs>());
            set => _dimensions = value;
        }

        [Input("facts")]
        private InputList<Inputs.SemanticViewFactGetArgs>? _facts;

        /// <summary>
        /// The list of facts in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewFactGetArgs> Facts
        {
            get => _facts ?? (_facts = new InputList<Inputs.SemanticViewFactGetArgs>());
            set => _facts = value;
        }

        /// <summary>
        /// Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
        /// </summary>
        [Input("fullyQualifiedName")]
        public Input<string>? FullyQualifiedName { get; set; }

        [Input("metrics")]
        private InputList<Inputs.SemanticViewMetricGetArgs>? _metrics;

        /// <summary>
        /// Specify a list of metrics for the semantic view. Each metric can have either a semantic expression or a window function in its definition. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewMetricGetArgs> Metrics
        {
            get => _metrics ?? (_metrics = new InputList<Inputs.SemanticViewMetricGetArgs>());
            set => _metrics = value;
        }

        /// <summary>
        /// Specifies the identifier for the semantic view; must be unique within the schema. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        [Input("relationships")]
        private InputList<Inputs.SemanticViewRelationshipGetArgs>? _relationships;

        /// <summary>
        /// The list of relationships between the logical tables in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewRelationshipGetArgs> Relationships
        {
            get => _relationships ?? (_relationships = new InputList<Inputs.SemanticViewRelationshipGetArgs>());
            set => _relationships = value;
        }

        /// <summary>
        /// The schema in which to create the semantic view. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
        /// </summary>
        [Input("schema")]
        public Input<string>? Schema { get; set; }

        [Input("showOutputs")]
        private InputList<Inputs.SemanticViewShowOutputGetArgs>? _showOutputs;

        /// <summary>
        /// Outputs the result of `SHOW SEMANTIC VIEWS` for the given semantic view.
        /// </summary>
        public InputList<Inputs.SemanticViewShowOutputGetArgs> ShowOutputs
        {
            get => _showOutputs ?? (_showOutputs = new InputList<Inputs.SemanticViewShowOutputGetArgs>());
            set => _showOutputs = value;
        }

        [Input("tables")]
        private InputList<Inputs.SemanticViewTableGetArgs>? _tables;

        /// <summary>
        /// The list of logical tables in the semantic view. External changes for this field won't be detected. In case you want to apply external changes, you can re-create the resource manually using "terraform taint".
        /// </summary>
        public InputList<Inputs.SemanticViewTableGetArgs> Tables
        {
            get => _tables ?? (_tables = new InputList<Inputs.SemanticViewTableGetArgs>());
            set => _tables = value;
        }

        public SemanticViewState()
        {
        }
        public static new SemanticViewState Empty => new SemanticViewState();
    }
}
