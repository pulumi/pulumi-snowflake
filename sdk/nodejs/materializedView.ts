// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

/**
 * !> **Caution: Preview Feature** This feature is considered a preview feature in the provider, regardless of the state of the resource in Snowflake. We do not guarantee its stability. It will be reworked and marked as a stable feature in future releases. Breaking changes are expected, even without bumping the major version. To use this feature, add the relevant feature name to `previewFeaturesEnabled` field in the provider configuration. Please always refer to the Getting Help section in our Github repo to best determine how to get help for your questions.
 *
 * > **Important** The `orReplace` parameter controls whether the provider uses `CREATE OR REPLACE MATERIALIZED VIEW` during create and recreate operations. However, any change to the fields causing recreation will **always trigger delete and create operations** of the materialized view, regardless of the `orReplace` setting.
 * This means setting `orReplace = true` does **not** enable in-place updates when you modify the `statement` field specifically. Changes to `statement` will cause downtime as the view is dropped and recreated. The `orReplace` parameter is primarily useful to overwrite an existing view during initial resource creation.
 * This behavior is a known limitation and may be improved in future versions of the provider.
 *
 * !> **Sensitive values** This resource's `statement` field is not marked as sensitive in the provider. Ensure that no personal data, sensitive data, export-controlled data, or other regulated data is entered as metadata when using the provider. If you use one of these fields, they may be present in logs, so ensure that the provider logs are properly restricted. For more information, see Sensitive values limitations and [Metadata fields in Snowflake](https://docs.snowflake.com/en/sql-reference/metadata).
 *
 * ## Example Usage
 *
 * > **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult identifiers guide.
 * <!-- TODO(SNOW-1634854): include an example showing both methods-->
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as snowflake from "@pulumi/snowflake";
 *
 * const view = new snowflake.MaterializedView("view", {
 *     database: "db",
 *     schema: "schema",
 *     name: "view",
 *     warehouse: "warehouse",
 *     comment: "comment",
 *     statement: "select * from foo;\n",
 *     orReplace: false,
 *     isSecure: false,
 * });
 * ```
 *
 * > **Note** If a field has a default value, it is shown next to the type in the schema.
 *
 * ## Import
 *
 * format is database name | schema name | view name
 *
 * ```sh
 * $ pulumi import snowflake:index/materializedView:MaterializedView example 'dbName|schemaName|viewName'
 * ```
 */
export class MaterializedView extends pulumi.CustomResource {
    /**
     * Get an existing MaterializedView resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: MaterializedViewState, opts?: pulumi.CustomResourceOptions): MaterializedView {
        return new MaterializedView(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'snowflake:index/materializedView:MaterializedView';

    /**
     * Returns true if the given object is an instance of MaterializedView.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is MaterializedView {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === MaterializedView.__pulumiType;
    }

    /**
     * Specifies a comment for the view.
     */
    declare public readonly comment: pulumi.Output<string | undefined>;
    /**
     * The database in which to create the view. Don't use the | character.
     */
    declare public readonly database: pulumi.Output<string>;
    /**
     * Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
     */
    declare public /*out*/ readonly fullyQualifiedName: pulumi.Output<string>;
    /**
     * (Default: `false`) Specifies that the view is secure.
     */
    declare public readonly isSecure: pulumi.Output<boolean | undefined>;
    /**
     * Specifies the identifier for the view; must be unique for the schema in which the view is created.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * (Default: `false`) Specifies whether to use CREATE OR REPLACE when creating the materialized view. Note: this does not enable in-place updates when other fields forcing object recreation change; such fields always trigger delete and create operations in pulumi preview.
     */
    declare public readonly orReplace: pulumi.Output<boolean | undefined>;
    /**
     * The schema in which to create the view. Don't use the | character.
     */
    declare public readonly schema: pulumi.Output<string>;
    /**
     * Specifies the query used to create the view. Changing this value will trigger a drop and recreate of the materialized view.
     */
    declare public readonly statement: pulumi.Output<string>;
    /**
     * Definitions of a tag to associate with the resource.
     *
     * @deprecated Use the 'snowflake_tag_association' resource instead.
     */
    declare public readonly tags: pulumi.Output<outputs.MaterializedViewTag[] | undefined>;
    /**
     * The warehouse name.
     */
    declare public readonly warehouse: pulumi.Output<string>;

    /**
     * Create a MaterializedView resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: MaterializedViewArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: MaterializedViewArgs | MaterializedViewState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as MaterializedViewState | undefined;
            resourceInputs["comment"] = state?.comment;
            resourceInputs["database"] = state?.database;
            resourceInputs["fullyQualifiedName"] = state?.fullyQualifiedName;
            resourceInputs["isSecure"] = state?.isSecure;
            resourceInputs["name"] = state?.name;
            resourceInputs["orReplace"] = state?.orReplace;
            resourceInputs["schema"] = state?.schema;
            resourceInputs["statement"] = state?.statement;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["warehouse"] = state?.warehouse;
        } else {
            const args = argsOrState as MaterializedViewArgs | undefined;
            if (args?.database === undefined && !opts.urn) {
                throw new Error("Missing required property 'database'");
            }
            if (args?.schema === undefined && !opts.urn) {
                throw new Error("Missing required property 'schema'");
            }
            if (args?.statement === undefined && !opts.urn) {
                throw new Error("Missing required property 'statement'");
            }
            if (args?.warehouse === undefined && !opts.urn) {
                throw new Error("Missing required property 'warehouse'");
            }
            resourceInputs["comment"] = args?.comment;
            resourceInputs["database"] = args?.database;
            resourceInputs["isSecure"] = args?.isSecure;
            resourceInputs["name"] = args?.name;
            resourceInputs["orReplace"] = args?.orReplace;
            resourceInputs["schema"] = args?.schema;
            resourceInputs["statement"] = args?.statement;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["warehouse"] = args?.warehouse;
            resourceInputs["fullyQualifiedName"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(MaterializedView.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering MaterializedView resources.
 */
export interface MaterializedViewState {
    /**
     * Specifies a comment for the view.
     */
    comment?: pulumi.Input<string>;
    /**
     * The database in which to create the view. Don't use the | character.
     */
    database?: pulumi.Input<string>;
    /**
     * Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
     */
    fullyQualifiedName?: pulumi.Input<string>;
    /**
     * (Default: `false`) Specifies that the view is secure.
     */
    isSecure?: pulumi.Input<boolean>;
    /**
     * Specifies the identifier for the view; must be unique for the schema in which the view is created.
     */
    name?: pulumi.Input<string>;
    /**
     * (Default: `false`) Specifies whether to use CREATE OR REPLACE when creating the materialized view. Note: this does not enable in-place updates when other fields forcing object recreation change; such fields always trigger delete and create operations in pulumi preview.
     */
    orReplace?: pulumi.Input<boolean>;
    /**
     * The schema in which to create the view. Don't use the | character.
     */
    schema?: pulumi.Input<string>;
    /**
     * Specifies the query used to create the view. Changing this value will trigger a drop and recreate of the materialized view.
     */
    statement?: pulumi.Input<string>;
    /**
     * Definitions of a tag to associate with the resource.
     *
     * @deprecated Use the 'snowflake_tag_association' resource instead.
     */
    tags?: pulumi.Input<pulumi.Input<inputs.MaterializedViewTag>[]>;
    /**
     * The warehouse name.
     */
    warehouse?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a MaterializedView resource.
 */
export interface MaterializedViewArgs {
    /**
     * Specifies a comment for the view.
     */
    comment?: pulumi.Input<string>;
    /**
     * The database in which to create the view. Don't use the | character.
     */
    database: pulumi.Input<string>;
    /**
     * (Default: `false`) Specifies that the view is secure.
     */
    isSecure?: pulumi.Input<boolean>;
    /**
     * Specifies the identifier for the view; must be unique for the schema in which the view is created.
     */
    name?: pulumi.Input<string>;
    /**
     * (Default: `false`) Specifies whether to use CREATE OR REPLACE when creating the materialized view. Note: this does not enable in-place updates when other fields forcing object recreation change; such fields always trigger delete and create operations in pulumi preview.
     */
    orReplace?: pulumi.Input<boolean>;
    /**
     * The schema in which to create the view. Don't use the | character.
     */
    schema: pulumi.Input<string>;
    /**
     * Specifies the query used to create the view. Changing this value will trigger a drop and recreate of the materialized view.
     */
    statement: pulumi.Input<string>;
    /**
     * Definitions of a tag to associate with the resource.
     *
     * @deprecated Use the 'snowflake_tag_association' resource instead.
     */
    tags?: pulumi.Input<pulumi.Input<inputs.MaterializedViewTag>[]>;
    /**
     * The warehouse name.
     */
    warehouse: pulumi.Input<string>;
}
