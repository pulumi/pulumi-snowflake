// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

/**
 * !> **Note** According to Snowflake [docs](https://docs.snowflake.com/en/sql-reference/sql/drop-network-policy#usage-notes), a network policy cannot be dropped successfully if it is currently assigned to another object. Currently, the provider does not unassign such objects automatically. Before dropping the resource, first unassign the policy from the relevant objects. See guide for more details.
 *
 * !> **Note** Due to technical limitations in Terraform SDK, changes in `allowedNetworkRuleList` and `blockedNetworkRuleList` do not cause diff for `showOutput` and `describeOutput`.
 *
 * Resource used to control network traffic. For more information, check an [official guide](https://docs.snowflake.com/en/user-guide/network-policies) on controlling network traffic with network policies.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as snowflake from "@pulumi/snowflake";
 *
 * //# Minimal
 * const basic = new snowflake.NetworkPolicy("basic", {name: "network_policy_name"});
 * //# Complete (with every optional set)
 * const complete = new snowflake.NetworkPolicy("complete", {
 *     name: "network_policy_name",
 *     allowedNetworkRuleLists: [one.fullyQualifiedName],
 *     blockedNetworkRuleLists: [two.fullyQualifiedName],
 *     allowedIpLists: ["192.168.1.0/24"],
 *     blockedIpLists: ["192.168.1.99"],
 *     comment: "my network policy",
 * });
 * ```
 * > **Note** Instead of using fully_qualified_name, you can reference objects managed outside Terraform by constructing a correct ID, consult identifiers guide.
 * <!-- TODO(SNOW-1634854): include an example showing both methods-->
 *
 * > **Note** If a field has a default value, it is shown next to the type in the schema.
 *
 * ## Import
 *
 * ```sh
 * $ pulumi import snowflake:index/networkPolicy:NetworkPolicy example '"<network_policy_name>"'
 * ```
 */
export class NetworkPolicy extends pulumi.CustomResource {
    /**
     * Get an existing NetworkPolicy resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: NetworkPolicyState, opts?: pulumi.CustomResourceOptions): NetworkPolicy {
        return new NetworkPolicy(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'snowflake:index/networkPolicy:NetworkPolicy';

    /**
     * Returns true if the given object is an instance of NetworkPolicy.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is NetworkPolicy {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === NetworkPolicy.__pulumiType;
    }

    /**
     * Specifies one or more IPv4 addresses (CIDR notation) that are allowed access to your Snowflake account.
     */
    declare public readonly allowedIpLists: pulumi.Output<string[] | undefined>;
    /**
     * Specifies a list of fully qualified network rules that contain the network identifiers that are allowed access to Snowflake. For more information about this resource, see docs.
     */
    declare public readonly allowedNetworkRuleLists: pulumi.Output<string[] | undefined>;
    /**
     * Specifies one or more IPv4 addresses (CIDR notation) that are denied access to your Snowflake account. **Do not** add `0.0.0.0/0` to `blockedIpList`, in order to block all IP addresses except a select list, you only need to add IP addresses to `allowedIpList`.
     */
    declare public readonly blockedIpLists: pulumi.Output<string[] | undefined>;
    /**
     * Specifies a list of fully qualified network rules that contain the network identifiers that are denied access to Snowflake. For more information about this resource, see docs.
     */
    declare public readonly blockedNetworkRuleLists: pulumi.Output<string[] | undefined>;
    /**
     * Specifies a comment for the network policy.
     */
    declare public readonly comment: pulumi.Output<string | undefined>;
    /**
     * Outputs the result of `DESCRIBE NETWORK POLICY` for the given network policy.
     */
    declare public /*out*/ readonly describeOutputs: pulumi.Output<outputs.NetworkPolicyDescribeOutput[]>;
    /**
     * Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
     */
    declare public /*out*/ readonly fullyQualifiedName: pulumi.Output<string>;
    /**
     * Specifies the identifier for the network policy; must be unique for the account in which the network policy is created. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
     */
    declare public readonly name: pulumi.Output<string>;
    /**
     * Outputs the result of `SHOW NETWORK POLICIES` for the given network policy.
     */
    declare public /*out*/ readonly showOutputs: pulumi.Output<outputs.NetworkPolicyShowOutput[]>;

    /**
     * Create a NetworkPolicy resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args?: NetworkPolicyArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: NetworkPolicyArgs | NetworkPolicyState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as NetworkPolicyState | undefined;
            resourceInputs["allowedIpLists"] = state?.allowedIpLists;
            resourceInputs["allowedNetworkRuleLists"] = state?.allowedNetworkRuleLists;
            resourceInputs["blockedIpLists"] = state?.blockedIpLists;
            resourceInputs["blockedNetworkRuleLists"] = state?.blockedNetworkRuleLists;
            resourceInputs["comment"] = state?.comment;
            resourceInputs["describeOutputs"] = state?.describeOutputs;
            resourceInputs["fullyQualifiedName"] = state?.fullyQualifiedName;
            resourceInputs["name"] = state?.name;
            resourceInputs["showOutputs"] = state?.showOutputs;
        } else {
            const args = argsOrState as NetworkPolicyArgs | undefined;
            resourceInputs["allowedIpLists"] = args?.allowedIpLists;
            resourceInputs["allowedNetworkRuleLists"] = args?.allowedNetworkRuleLists;
            resourceInputs["blockedIpLists"] = args?.blockedIpLists;
            resourceInputs["blockedNetworkRuleLists"] = args?.blockedNetworkRuleLists;
            resourceInputs["comment"] = args?.comment;
            resourceInputs["name"] = args?.name;
            resourceInputs["describeOutputs"] = undefined /*out*/;
            resourceInputs["fullyQualifiedName"] = undefined /*out*/;
            resourceInputs["showOutputs"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(NetworkPolicy.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering NetworkPolicy resources.
 */
export interface NetworkPolicyState {
    /**
     * Specifies one or more IPv4 addresses (CIDR notation) that are allowed access to your Snowflake account.
     */
    allowedIpLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies a list of fully qualified network rules that contain the network identifiers that are allowed access to Snowflake. For more information about this resource, see docs.
     */
    allowedNetworkRuleLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies one or more IPv4 addresses (CIDR notation) that are denied access to your Snowflake account. **Do not** add `0.0.0.0/0` to `blockedIpList`, in order to block all IP addresses except a select list, you only need to add IP addresses to `allowedIpList`.
     */
    blockedIpLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies a list of fully qualified network rules that contain the network identifiers that are denied access to Snowflake. For more information about this resource, see docs.
     */
    blockedNetworkRuleLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies a comment for the network policy.
     */
    comment?: pulumi.Input<string>;
    /**
     * Outputs the result of `DESCRIBE NETWORK POLICY` for the given network policy.
     */
    describeOutputs?: pulumi.Input<pulumi.Input<inputs.NetworkPolicyDescribeOutput>[]>;
    /**
     * Fully qualified name of the resource. For more information, see [object name resolution](https://docs.snowflake.com/en/sql-reference/name-resolution).
     */
    fullyQualifiedName?: pulumi.Input<string>;
    /**
     * Specifies the identifier for the network policy; must be unique for the account in which the network policy is created. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
     */
    name?: pulumi.Input<string>;
    /**
     * Outputs the result of `SHOW NETWORK POLICIES` for the given network policy.
     */
    showOutputs?: pulumi.Input<pulumi.Input<inputs.NetworkPolicyShowOutput>[]>;
}

/**
 * The set of arguments for constructing a NetworkPolicy resource.
 */
export interface NetworkPolicyArgs {
    /**
     * Specifies one or more IPv4 addresses (CIDR notation) that are allowed access to your Snowflake account.
     */
    allowedIpLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies a list of fully qualified network rules that contain the network identifiers that are allowed access to Snowflake. For more information about this resource, see docs.
     */
    allowedNetworkRuleLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies one or more IPv4 addresses (CIDR notation) that are denied access to your Snowflake account. **Do not** add `0.0.0.0/0` to `blockedIpList`, in order to block all IP addresses except a select list, you only need to add IP addresses to `allowedIpList`.
     */
    blockedIpLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies a list of fully qualified network rules that contain the network identifiers that are denied access to Snowflake. For more information about this resource, see docs.
     */
    blockedNetworkRuleLists?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Specifies a comment for the network policy.
     */
    comment?: pulumi.Input<string>;
    /**
     * Specifies the identifier for the network policy; must be unique for the account in which the network policy is created. Due to technical limitations (read more here), avoid using the following characters: `|`, `.`, `"`.
     */
    name?: pulumi.Input<string>;
}
