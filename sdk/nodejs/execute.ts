// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "./utilities";

/**
 * !> **Warning** This is a dangerous resource that allows executing **ANY** SQL statement. It may destroy resources if used incorrectly. It may behave incorrectly combined with other resources. Use at your own risk.
 *
 * !> **Warning** Do not run `USE ROLE ...` or `USE WAREHOUSE ...` statements as they will cause the provider to produce inconsistent results. Use provider aliases with different roles instead.
 *
 * !> **Sensitive values** This resource's `execute`, `query`, `revert` and `queryResults` fields are not marked as sensitive in the provider. Ensure that no personal data, sensitive data, export-controlled data, or other regulated data is entered as metadata when using the provider. If you use one of these fields, they may be present in logs, so ensure that the provider logs are properly restricted. For more information, see Sensitive values limitations and [Metadata fields in Snowflake](https://docs.snowflake.com/en/sql-reference/metadata).
 *
 * > **Note** It can be theoretically used to manage resource that are not supported by the provider. This is risky and may break other resources if used incorrectly.
 *
 * > **Note** Use `query` parameter with caution. It will fetch **ALL** the results returned by the query provided. Try to limit the number of results by writing query with filters. Query failure does not stop resource creation; it simply results in `queryResults` being empty.
 *
 * > **Note**: Default timeout is set to 60 minutes for each Terraform operation.
 *
 * Resource allowing execution of ANY SQL statement.
 *
 * ## Import
 *
 * ```sh
 * $ pulumi import snowflake:index/execute:Execute example '<random_uuid>'
 * ```
 */
export class Execute extends pulumi.CustomResource {
    /**
     * Get an existing Execute resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: ExecuteState, opts?: pulumi.CustomResourceOptions): Execute {
        return new Execute(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'snowflake:index/execute:Execute';

    /**
     * Returns true if the given object is an instance of Execute.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Execute {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Execute.__pulumiType;
    }

    /**
     * SQL statement to execute. Forces recreation of resource on change.
     */
    declare public readonly execute: pulumi.Output<string>;
    /**
     * Optional SQL statement to do a read. Invoked on every resource refresh and every time it is changed.
     */
    declare public readonly query: pulumi.Output<string | undefined>;
    /**
     * List of key-value maps (text to text) retrieved after executing read query. Will be empty if the query results in an error.
     */
    declare public /*out*/ readonly queryResults: pulumi.Output<{[key: string]: string}[]>;
    /**
     * SQL statement to revert the execute statement. Invoked when resource is being destroyed.
     */
    declare public readonly revert: pulumi.Output<string>;

    /**
     * Create a Execute resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ExecuteArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: ExecuteArgs | ExecuteState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as ExecuteState | undefined;
            resourceInputs["execute"] = state?.execute;
            resourceInputs["query"] = state?.query;
            resourceInputs["queryResults"] = state?.queryResults;
            resourceInputs["revert"] = state?.revert;
        } else {
            const args = argsOrState as ExecuteArgs | undefined;
            if (args?.execute === undefined && !opts.urn) {
                throw new Error("Missing required property 'execute'");
            }
            if (args?.revert === undefined && !opts.urn) {
                throw new Error("Missing required property 'revert'");
            }
            resourceInputs["execute"] = args?.execute;
            resourceInputs["query"] = args?.query;
            resourceInputs["revert"] = args?.revert;
            resourceInputs["queryResults"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Execute.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Execute resources.
 */
export interface ExecuteState {
    /**
     * SQL statement to execute. Forces recreation of resource on change.
     */
    execute?: pulumi.Input<string>;
    /**
     * Optional SQL statement to do a read. Invoked on every resource refresh and every time it is changed.
     */
    query?: pulumi.Input<string>;
    /**
     * List of key-value maps (text to text) retrieved after executing read query. Will be empty if the query results in an error.
     */
    queryResults?: pulumi.Input<pulumi.Input<{[key: string]: pulumi.Input<string>}>[]>;
    /**
     * SQL statement to revert the execute statement. Invoked when resource is being destroyed.
     */
    revert?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Execute resource.
 */
export interface ExecuteArgs {
    /**
     * SQL statement to execute. Forces recreation of resource on change.
     */
    execute: pulumi.Input<string>;
    /**
     * Optional SQL statement to do a read. Invoked on every resource refresh and every time it is changed.
     */
    query?: pulumi.Input<string>;
    /**
     * SQL statement to revert the execute statement. Invoked when resource is being destroyed.
     */
    revert: pulumi.Input<string>;
}
